# AI 旅行规划师 - 使用说明

## 🎉 项目已完成！

恭喜！AI 旅行规划师项目已经全部完成并可以使用了。

---

## 📦 项目包含的内容

### ✅ 完整功能
1. **智能行程规划** - 使用 AI 生成个性化旅行计划
2. **语音输入** - 支持语音说出旅行需求
3. **费用管理** - 预算分析和费用记录
4. **地图导航** - 高德地图显示景点和路线
5. **用户系统** - 注册登录和云端数据同步

### ✅ 完整代码
- ✅ 后端 API (FastAPI)
- ✅ 前端页面 (HTML/CSS/JS)
- ✅ 数据库脚本 (SQL)
- ✅ 配置文件
- ✅ 测试文件
- ✅ 辅助脚本

### ✅ 完整文档 (9份)
1. `README.md` - 项目主文档
2. `SETUP_GUIDE.md` - 详细配置指南
3. `API_DOCUMENTATION.md` - API 接口文档
4. `DEPLOYMENT.md` - 部署指南
5. `QUICK_START.md` - 快速开始
6. `CONTRIBUTING.md` - 贡献指南
7. `FAQ.md` - 常见问题
8. `CHANGELOG.md` - 更新日志
9. `PROJECT_SUMMARY.md` - 项目总结

---

## 🚀 快速开始（3 步）

### 第 1 步：安装依赖

**Windows 用户**（推荐）:
```bash
scripts\setup.bat
```

**手动安装**:
```bash
pip install -r requirements.txt
```

### 第 2 步：配置 API 密钥

1. 复制 `.env.template` 为 `.env`
2. 填写必需的 API 密钥：
   - Supabase URL 和 Key
   - 阿里云百炼 API Key
   - （可选）其他 API 密钥

**详细获取步骤**: 查看 `SETUP_GUIDE.md`

### 第 3 步：启动项目

**Windows**:
```bash
scripts\start.bat
```

**或直接运行**:
```bash
python run.py
```

访问: http://localhost:8000/static/index.html

---

## 📖 重要文档

### 新手必读
1. **README.md** - 了解项目功能和安装步骤
2. **QUICK_START.md** - 5 分钟快速上手
3. **SETUP_GUIDE.md** - 详细的 API 配置教程

### 开发者
1. **API_DOCUMENTATION.md** - 所有 API 接口说明
2. **CONTRIBUTING.md** - 如何贡献代码
3. **tests/** - 测试示例

### 部署上线
1. **DEPLOYMENT.md** - 完整的部署指南
2. **FAQ.md** - 常见问题解答

---

## 🔑 必需的 API 密钥

### 1. Supabase (必需)
用于数据库和用户认证

**获取方式**:
1. 访问 https://supabase.com
2. 创建项目
3. 在 Settings > API 获取密钥

**配置位置**: `.env` 文件
```env
SUPABASE_URL=https://xxxxx.supabase.co
SUPABASE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

### 2. 阿里云百炼 (必需)
用于 AI 生成旅行计划

**获取方式**:
1. 访问 https://dashscope.aliyun.com
2. 开通服务
3. 创建 API Key

**配置位置**: `.env` 文件
```env
DASHSCOPE_API_KEY=sk-xxxxxxxxxxxxxxxx
```

### 3. 高德地图 (可选)
用于地图显示和导航

**获取方式**:
1. 访问 https://lbs.amap.com
2. 注册开发者
3. 创建应用获取 Key

**配置位置**: 
- `.env` 文件
- `frontend/index.html` (替换 API Key)

### 4. 阿里云语音 (可选)
用于语音识别（可用浏览器自带功能替代）

**获取方式**: 在阿里云开通智能语音服务

---

## 🗄️ 数据库设置

### 在 Supabase 中运行 SQL

1. 登录 Supabase 控制台
2. 点击左侧 "SQL Editor"
3. 点击 "+ New query"
4. 复制 `database_setup.sql` 的内容
5. 点击 "Run" 执行

这会创建：
- `travel_plans` 表（旅行计划）
- `expenses` 表（费用记录）
- 安全策略（用户只能访问自己的数据）

---

## 🎯 使用流程

### 1. 注册账号
打开网页 → 点击"注册" → 填写邮箱密码

### 2. 创建旅行计划

**方式 A - 语音输入**:
1. 点击 🎤 按钮
2. 允许麦克风权限
3. 说出旅行需求，例如：
   > "我想去日本，5天，预算1万元，喜欢美食和动漫，带孩子"

**方式 B - 手动输入**:
1. 填写表单（目的地、天数、预算等）
2. 点击"生成旅行计划"

### 3. 查看和保存
- AI 会在 10-30 秒内生成详细计划
- 包括每天的景点、餐厅、住宿、交通
- 点击"保存计划"可保存到云端

### 4. 管理计划
- 在"我的计划"查看所有保存的计划
- 可以删除不需要的计划

### 5. 预算管理
- 选择一个计划
- 添加实际花费
- 查看预算分析和 AI 建议

---

## 📂 项目结构

```
ai-travel-planner/
├── backend/              # 后端（Python FastAPI）
│   ├── main.py          # 主程序
│   ├── database.py      # 数据库操作
│   └── routers/         # API 路由
├── frontend/            # 前端（HTML/CSS/JS）
│   ├── index.html       # 主页面
│   ├── css/            # 样式
│   └── js/             # JavaScript
├── scripts/            # 辅助脚本
│   ├── setup.bat       # Windows 初始化
│   └── start.bat       # Windows 启动
├── tests/              # 测试文件
├── .env               # 配置文件（需要自己创建）
├── requirements.txt   # Python 依赖
└── run.py            # 启动脚本
```

---

## ⚠️ 重要提醒

### 安全性
1. ❌ **切勿将 `.env` 文件提交到 Git**
2. ✅ API 密钥已经在 `.gitignore` 中排除
3. ✅ 使用环境变量管理敏感信息

### API 限制
- Supabase 免费版有请求数限制
- 阿里云百炼按 token 计费
- 高德地图有日调用量限制

建议：开发测试时使用免费额度

### 浏览器要求
- 推荐 Chrome、Edge 最新版
- 语音功能需要 HTTPS 或 localhost
- 需要允许麦克风权限（语音功能）

---

## 🐛 常见问题

### Q: 启动后打不开页面？
**A**: 访问 http://localhost:8000/static/index.html （注意路径）

### Q: 数据库连接失败？
**A**: 
1. 检查 `.env` 中的 Supabase 配置
2. 确认已运行 `database_setup.sql`

### Q: AI 生成失败？
**A**: 
1. 检查阿里云百炼 API Key
2. 确认有足够的免费额度或余额

### Q: 语音不工作？
**A**: 
1. 使用 localhost 或 HTTPS
2. 检查浏览器麦克风权限
3. 使用 Chrome 浏览器

**更多问题**: 查看 `FAQ.md`

---

## 📚 学习资源

### API 服务文档
- [Supabase 文档](https://supabase.com/docs)
- [阿里云百炼文档](https://help.aliyun.com/document_detail/2712195.html)
- [高德地图文档](https://lbs.amap.com/api/)
- [FastAPI 文档](https://fastapi.tiangolo.com/zh/)

### 项目文档
- 所有文档都在项目根目录
- 建议按顺序阅读：
  1. README.md
  2. QUICK_START.md
  3. SETUP_GUIDE.md

---

## 🎓 技术亮点

本项目涵盖：
- ✅ Python Web 开发 (FastAPI)
- ✅ 前端开发 (HTML/CSS/JS)
- ✅ RESTful API 设计
- ✅ AI/LLM 应用开发
- ✅ 云数据库使用 (Supabase)
- ✅ 第三方 API 集成
- ✅ 用户认证和安全
- ✅ 语音识别和地图服务

---

## 🚀 下一步

1. ✅ **立即体验**: 运行 `python run.py` 开始使用
2. 📖 **深入了解**: 阅读详细文档
3. 🎨 **个性化**: 修改样式和功能
4. 🌐 **部署上线**: 查看 `DEPLOYMENT.md`

---

## 💡 提示

### 开发建议
- 使用 VSCode 打开项目（已配置好）
- 按 F5 可以启动调试模式
- 修改代码后自动重启（热重载）

### 成本控制
- 开发阶段使用免费服务
- 监控 API 使用量
- 设置费用告警

---

## 📞 获取帮助

1. **查看文档**: 9 份详细文档
2. **查看 FAQ**: `FAQ.md` 有 25+ 问题解答
3. **查看示例**: `tests/` 目录有测试示例
4. **提交 Issue**: 在 GitHub 上提问

---

## 🎉 开始使用

```bash
# 1. 安装依赖
pip install -r requirements.txt

# 2. 配置 .env（复制 .env.template 并填写）

# 3. 启动项目
python run.py

# 4. 打开浏览器
# http://localhost:8000/static/index.html
```

---

**祝你使用愉快！开启智能旅行规划之旅！** 🌍✈️🎒

---

**最后更新**: 2024-01-15
**项目版本**: v1.0.0
**作者**: AI Travel Planner Team



