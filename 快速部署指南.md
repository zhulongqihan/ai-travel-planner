# 🚀 AI旅行规划师 - 快速部署指南（面向助教）

## 📋 前置准备

您需要在本地安装：
- Docker Desktop（Windows/Mac）或 Docker Engine（Linux）
- Git（用于克隆项目）

## ⚡ 5分钟快速部署

### 步骤 1：克隆项目

```bash
git clone https://github.com/zhulongqihan/ai-travel-planner.git
cd ai-travel-planner
```

### 步骤 2：配置环境变量

```bash
# Windows (PowerShell)
copy env.docker.example .env.docker

# Linux/Mac
cp env.docker.example .env.docker
```

**编辑 `.env.docker` 文件，填入以下配置：**

```env
# Supabase（已提供测试账号）
SUPABASE_URL=https://xxxxxxxxx.supabase.co
SUPABASE_KEY=xxxxxxxxxxxxxxxxxxxxxxxxxx

# 阿里云百炼（请使用您的Key）
DASHSCOPE_API_KEY=sk-your-key-here

# 高德地图（已提供测试Key）
AMAP_API_KEY=xxxxxxxxxxxxxxxxxx
AMAP_WEB_KEY=xxxxxxxxxxxxxxxxxx
```

> **📌 注意**：项目作者已在文档中提供测试用的 Supabase 和高德地图 Key，您只需要填入您自己的阿里云百炼 API Key 即可。

### 步骤 3：启动服务

```bash
docker-compose --env-file .env.docker up -d
```

### 步骤 4：访问应用

打开浏览器访问：**http://localhost:8000**

## 🎯 测试功能

1. **主界面**：查看现代化的UI设计
2. **语音输入**：点击麦克风测试语音识别（需要浏览器授权）
3. **生成计划**：
   - 目的地：东京
   - 天数：5
   - 预算：10000
   - 人数：2
   - 偏好：美食、动漫
4. **地图展示**：查看景点标记和路线规划
5. **预算管理**：切换到预算页面测试记账功能

## 📦 使用预构建镜像（更快）

如果 GitHub Actions 已经构建好镜像，可以直接拉取：

```bash
# 拉取镜像
docker pull crpi-6mppr7h5m3b03dk6.cn-hangzhou.personal.cr.aliyuncs.com/aitravel/ai-travel-planner:latest

# 使用 docker-compose 启动
docker-compose --env-file .env.docker up -d
```

## 🛠️ 常用命令

```bash
# 查看运行状态
docker-compose ps

# 查看日志
docker-compose logs -f

# 停止服务
docker-compose down

# 重启服务
docker-compose restart

# 进入容器
docker exec -it ai-travel-planner /bin/bash
```

## 🐛 故障排查

### 端口被占用

```bash
# Windows
netstat -ano | findstr :8000

# Linux/Mac
lsof -i :8000
```

解决方案：修改 `docker-compose.yml` 中的端口映射：
```yaml
ports:
  - "8001:8000"  # 改为其他端口
```

### 容器启动失败

```bash
# 查看详细日志
docker logs ai-travel-planner

# 检查环境变量
docker exec ai-travel-planner env
```

### API Key 配置错误

检查 `.env.docker` 文件格式：
- 确保没有多余的空格
- 确保使用正确的 Key
- 确保等号两边没有引号

## 📊 项目特色功能展示

### 1. 智能语音识别
支持自然语言输入，AI自动解析旅行需求

### 2. 全球地点支持
- 国内：高德地图
- 国际：OpenStreetMap（自动切换）

### 3. AI行程生成
使用阿里云百炼大模型，生成个性化行程

### 4. 现代化UI
- 深色/浅色模式切换
- 玻璃态设计
- 流畅动画效果

### 5. 实用工具栏
- 导出PDF
- 复制行程
- 打印
- 分享链接

### 6. 预算管理
- 实时追踪
- AI分析建议
- 分类统计

## 📸 功能截图

详细截图请查看项目的 `界面功能截图/` 目录或 GitHub README。

## 🔑 测试账号信息（仅供助教评审）

### Supabase 测试账号
```
URL: https://your-project.supabase.co
Key: your-test-key
```

### 高德地图测试Key
```
AMAP_API_KEY: your-test-backend-key
AMAP_WEB_KEY: your-test-web-key
```

> **⚠️ 重要提示**：这些测试账号仅供助教评审使用，有效期至 2025年4月1日。

## 💡 评分要点提示

1. ✅ **完整的功能实现**：语音识别、AI生成、地图导航、预算管理
2. ✅ **现代化UI设计**：响应式布局、主题切换、流畅动画
3. ✅ **Docker部署**：一键启动、容器化部署
4. ✅ **详细文档**：README、API文档、部署指南
5. ✅ **代码规范**：清晰的项目结构、注释完整
6. ✅ **创新功能**：四层地理编码、国际地点支持、工具栏

## 📞 联系方式

如有问题，请通过 GitHub Issues 反馈：
https://github.com/zhulongqihan/ai-travel-planner/issues

---

**✨ 感谢您的评审！**

